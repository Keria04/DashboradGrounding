# ğŸ“Š æ•°æ®ç®¡ç†è§„èŒƒä¸æ¶æ„è®¾è®¡

## ğŸ¯ ç›®å½•ç»“æ„è®¾è®¡

```
data/
â”œâ”€â”€ ğŸ“‚ raw/                          # åŸå§‹æ•°æ®ï¼ˆåªæ·»åŠ ï¼Œä¸åˆ é™¤ï¼‰
â”‚   â”œâ”€â”€ batch_001/                   # ç¬¬ä¸€æ‰¹æ•°æ® (å·²æœ‰279å¼ )
â”‚   â”‚   â”œâ”€â”€ dashboard_0001.png
â”‚   â”‚   â”œâ”€â”€ dashboard_0002.png
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ batch_002/                   # ç¬¬äºŒæ‰¹æ•°æ® (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ dashboard_0280.png
â”‚   â”‚   â”œâ”€â”€ dashboard_0281.png
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ batch_XXX/                   # åç»­æ‰¹æ¬¡...
â”‚
â”œâ”€â”€ ğŸ“‚ annotations/                  # æ ‡æ³¨æ•°æ®ï¼ˆCVAT XMLæ ¼å¼ï¼‰
â”‚   â”œâ”€â”€ batch_001/                   # å¯¹åº”ç¬¬ä¸€æ‰¹
â”‚   â”‚   â”œâ”€â”€ annotator1/
â”‚   â”‚   â”‚   â””â”€â”€ 0001-0069.xml
â”‚   â”‚   â”œâ”€â”€ annotator2/
â”‚   â”‚   â”‚   â””â”€â”€ 0070-0139.xml
â”‚   â”‚   â”œâ”€â”€ annotator3/
â”‚   â”‚   â”‚   â””â”€â”€ 0140-0209.xml
â”‚   â”‚   â””â”€â”€ annotator4/
â”‚   â”‚       â””â”€â”€ 0210-0279.xml
â”‚   â”‚
â”‚   â”œâ”€â”€ batch_002/                   # å¯¹åº”ç¬¬äºŒæ‰¹
â”‚   â”‚   â”œâ”€â”€ annotator1/
â”‚   â”‚   â”‚   â””â”€â”€ 0280-0349.xml
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ batch_XXX/                   # åç»­æ‰¹æ¬¡...
â”‚
â”œâ”€â”€ ğŸ“‚ yolo_format/                  # è®­ç»ƒç”¨YOLOæ ¼å¼ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ dashboard.yaml               # YOLOé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ train/                   # è®­ç»ƒé›†å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ val/                     # éªŒè¯é›†å›¾ç‰‡
â”‚   â”‚   â””â”€â”€ test/                    # æµ‹è¯•é›†å›¾ç‰‡
â”‚   â””â”€â”€ labels/
â”‚       â”œâ”€â”€ train/                   # è®­ç»ƒé›†æ ‡ç­¾
â”‚       â”œâ”€â”€ val/                     # éªŒè¯é›†æ ‡ç­¾
â”‚       â””â”€â”€ test/                    # æµ‹è¯•é›†æ ‡ç­¾
â”‚
â”œâ”€â”€ ğŸ“‚ statistics/                   # æ•°æ®ç»Ÿè®¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ data_overview.json           # æ•°æ®æ€»è§ˆ
â”‚   â”œâ”€â”€ class_distribution.json      # ç±»åˆ«åˆ†å¸ƒ
â”‚   â””â”€â”€ batch_info.json              # æ‰¹æ¬¡ä¿¡æ¯
â”‚
â””â”€â”€ ğŸ“„ data_index.csv                # æ•°æ®ç´¢å¼•è¡¨ï¼ˆæ–°å¢ï¼‰
```

---

## ğŸ“‹ æ·»åŠ æ–°æ•°æ®çš„æ ‡å‡†æµç¨‹

### Step 1: å‡†å¤‡æ–°æ•°æ®

#### 1.1 åˆ›å»ºæ–°æ‰¹æ¬¡ç›®å½•
```bash
# ç¡®å®šæ‰¹æ¬¡ç¼–å·ï¼ˆæŸ¥çœ‹ç°æœ‰æœ€å¤§ç¼–å·+1ï¼‰
# å‡è®¾è¦æ·»åŠ ç¬¬äºŒæ‰¹æ•°æ®

# åˆ›å»ºç›®å½•
mkdir data/raw/batch_002
mkdir data/annotations/batch_002
```

#### 1.2 æ–‡ä»¶å‘½åè§„èŒƒ
```
å›¾ç‰‡å‘½å: dashboard_XXXX.png  (XXXXä¸º4ä½æ•°å­—ï¼Œä»ä¸Šä¸€æ‰¹æ¬¡æœ€åç¼–å·+1å¼€å§‹)
æ ‡æ³¨å‘½å: XXXX-YYYY.xml       (XXXXèµ·å§‹ç¼–å·, YYYYç»“æŸç¼–å·)

ç¤ºä¾‹:
- ç¬¬ä¸€æ‰¹: dashboard_0001.png ~ dashboard_0279.png
- ç¬¬äºŒæ‰¹: dashboard_0280.png ~ dashboard_0350.png (å‡è®¾70å¼ )
```

### Step 2: æ”¾ç½®æ–‡ä»¶

```bash
# å›¾ç‰‡æ”¾åˆ°rawç›®å½•
data/raw/batch_002/
â”œâ”€â”€ dashboard_0280.png
â”œâ”€â”€ dashboard_0281.png
â””â”€â”€ ...

# æ ‡æ³¨æ”¾åˆ°annotationsç›®å½•ï¼ˆæŒ‰æ ‡æ³¨è€…åˆ†ç»„ï¼‰
data/annotations/batch_002/
â”œâ”€â”€ annotator1/
â”‚   â””â”€â”€ 0280-0320.xml
â””â”€â”€ annotator2/
    â””â”€â”€ 0321-0350.xml
```

### Step 3: è¿è¡Œè½¬æ¢è„šæœ¬

```bash
# è‡ªåŠ¨è½¬æ¢ä¸ºYOLOæ ¼å¼å¹¶åˆå¹¶åˆ°è®­ç»ƒé›†
python scripts/convert_to_yolo_format.py

# æˆ–ä½¿ç”¨æ–°çš„æ‰¹æ¬¡è½¬æ¢å·¥å…·ï¼ˆæ¨èï¼‰
python scripts/add_new_batch.py --batch batch_002
```

### Step 4: éªŒè¯æ•°æ®

```bash
# æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
python scripts/validate_data.py --batch batch_002

# æŸ¥çœ‹æ•°æ®ç»Ÿè®¡
python scripts/show_data_stats.py
```

### Step 5: é‡æ–°è®­ç»ƒ

```bash
# ä½¿ç”¨å…¨éƒ¨æ•°æ®é‡æ–°è®­ç»ƒ
START_PHASE1_IMPROVED_TRAINING.bat
```

---

## ğŸ”§ æ•°æ®ç´¢å¼•è¡¨æ ¼å¼

`data/data_index.csv`:

```csv
image_id,batch_id,filename,width,height,annotator,annotation_file,split,num_objects,added_date
0001,batch_001,dashboard_0001.png,1920,1080,annotator1,0001-0069.xml,train,5,2025-09-20
0002,batch_001,dashboard_0002.png,1920,1080,annotator1,0001-0069.xml,test,3,2025-09-20
...
0280,batch_002,dashboard_0280.png,1920,1080,annotator1,0280-0320.xml,train,4,2025-10-16
```

**å­—æ®µè¯´æ˜**:
- `image_id`: å›¾ç‰‡IDï¼ˆå»æ‰dashboard_å’Œ.pngï¼‰
- `batch_id`: æ‰¹æ¬¡ID
- `filename`: æ–‡ä»¶å
- `width/height`: å›¾ç‰‡å°ºå¯¸
- `annotator`: æ ‡æ³¨è€…
- `annotation_file`: å¯¹åº”çš„XMLæ–‡ä»¶
- `split`: æ•°æ®é›†åˆ’åˆ†ï¼ˆtrain/val/testï¼‰
- `num_objects`: æ ‡æ³¨å¯¹è±¡æ•°é‡
- `added_date`: æ·»åŠ æ—¥æœŸ

---

## ğŸ“Š æ•°æ®ç»Ÿè®¡æ ¼å¼

`data/statistics/data_overview.json`:

```json
{
  "total_images": 350,
  "total_batches": 2,
  "batches": {
    "batch_001": {
      "images": 279,
      "objects": 1234,
      "date_added": "2025-09-20"
    },
    "batch_002": {
      "images": 71,
      "objects": 312,
      "date_added": "2025-10-16"
    }
  },
  "split_distribution": {
    "train": 206,
    "val": 62,
    "test": 62
  },
  "class_distribution": {
    "Card": 450,
    "Bar chart": 280,
    "Line chart": 47,
    "Heatmap": 15,
    ...
  }
}
```

---

## ğŸ¯ ç±»åˆ«ä¼˜å…ˆçº§ç­–ç•¥

åŸºäºå½“å‰æ¨¡å‹æ€§èƒ½ï¼Œä¼˜å…ˆæ”¶é›†ä»¥ä¸‹ç±»åˆ«æ•°æ®ï¼š

### ğŸ”´ ç´§æ€¥éœ€è¦ï¼ˆæ ·æœ¬<20ï¼‰
- **Pie chart** (å½“å‰1ä¸ª) â†’ ç›®æ ‡: 30+
- **Radar chart** (å½“å‰1ä¸ª) â†’ ç›®æ ‡: 30+
- **Heatmap** (å½“å‰5ä¸ª) â†’ ç›®æ ‡: 50+
- **Scatter plot** (å½“å‰11ä¸ª) â†’ ç›®æ ‡: 40+
- **Line chart** (å½“å‰17ä¸ª) â†’ ç›®æ ‡: 60+

### ğŸŸ¡ é€‚é‡å¢åŠ ï¼ˆæ ·æœ¬20-50ï¼‰
- **Timeline** (å½“å‰1ä¸ª) â†’ ç›®æ ‡: 30+
- **å…¶ä»–ç¨€æœ‰ç±»åˆ«**

### ğŸŸ¢ ç»´æŒå¹³è¡¡
- **Card** (æœ€å¤š)
- **Bar chart** (è¾ƒå¤š)
- å…¶ä»–å·²æœ‰è¶³å¤Ÿæ ·æœ¬çš„ç±»åˆ«

---

## ğŸš€ è‡ªåŠ¨åŒ–å·¥å…·è„šæœ¬

### å·¥å…·1: æ‰¹æ¬¡æ·»åŠ è„šæœ¬

`scripts/add_new_batch.py`:

```python
"""
è‡ªåŠ¨åŒ–æ·»åŠ æ–°æ‰¹æ¬¡æ•°æ®

ç”¨æ³•:
python scripts/add_new_batch.py --batch batch_002 --priority-classes "Pie chart,Heatmap"
"""
```

åŠŸèƒ½:
- âœ… è‡ªåŠ¨æ£€æµ‹æ‰¹æ¬¡ç¼–å·
- âœ… éªŒè¯æ–‡ä»¶å‘½åè§„èŒƒ
- âœ… è½¬æ¢ä¸ºYOLOæ ¼å¼
- âœ… æ›´æ–°æ•°æ®ç´¢å¼•
- âœ… ç”Ÿæˆç»Ÿè®¡æŠ¥å‘Š
- âœ… æ£€æµ‹ä¼˜å…ˆç±»åˆ«å æ¯”

### å·¥å…·2: æ•°æ®éªŒè¯è„šæœ¬

`scripts/validate_data.py`:

```python
"""
éªŒè¯æ•°æ®å®Œæ•´æ€§å’Œè§„èŒƒæ€§

ç”¨æ³•:
python scripts/validate_data.py --batch batch_002
"""
```

æ£€æŸ¥é¡¹:
- âœ… å›¾ç‰‡å’Œæ ‡æ³¨æ–‡ä»¶ä¸€ä¸€å¯¹åº”
- âœ… æ–‡ä»¶å‘½åè§„èŒƒæ€§
- âœ… XMLæ ¼å¼æ­£ç¡®æ€§
- âœ… å›¾ç‰‡å®Œæ•´æ€§ï¼ˆå¯è¯»å–ã€å°ºå¯¸æ­£å¸¸ï¼‰
- âœ… æ ‡æ³¨è¾¹ç•Œæ¡†åˆæ³•æ€§ï¼ˆåœ¨å›¾ç‰‡èŒƒå›´å†…ï¼‰

### å·¥å…·3: æ•°æ®ç»Ÿè®¡è„šæœ¬

`scripts/show_data_stats.py`:

```python
"""
æ˜¾ç¤ºæ•°æ®é›†ç»Ÿè®¡ä¿¡æ¯

ç”¨æ³•:
python scripts/show_data_stats.py --detailed --export report.pdf
"""
```

è¾“å‡º:
- ğŸ“Š æ€»ä½“æ•°æ®é‡
- ğŸ“Š å„ç±»åˆ«åˆ†å¸ƒ
- ğŸ“Š å„æ‰¹æ¬¡ä¿¡æ¯
- ğŸ“Š æ•°æ®é›†åˆ’åˆ†æ¯”ä¾‹
- ğŸ“Š æ ‡æ³¨è´¨é‡æŒ‡æ ‡

### å·¥å…·4: æ•°æ®æ¸…ç†è„šæœ¬

`scripts/clean_duplicates.py`:

```python
"""
æ£€æµ‹å’Œæ¸…ç†é‡å¤æ•°æ®

ç”¨æ³•:
python scripts/clean_duplicates.py --similarity 0.95
"""
```

åŠŸèƒ½:
- ğŸ” åŸºäºå›¾åƒç›¸ä¼¼åº¦æ£€æµ‹é‡å¤
- ğŸ” æ£€æµ‹æ–‡ä»¶åå†²çª
- ğŸ—‘ï¸ å®‰å…¨ç§»é™¤é‡å¤é¡¹ï¼ˆå¤‡ä»½åˆ°trash/ï¼‰

---

## ğŸ“ æ•°æ®è´¨é‡æ£€æŸ¥æ¸…å•

### æ·»åŠ æ–°æ•°æ®å‰:
- [ ] ç¡®è®¤æ‰¹æ¬¡ç¼–å·ä¸é‡å¤
- [ ] å›¾ç‰‡å‘½åç¬¦åˆè§„èŒƒ
- [ ] å›¾ç‰‡æ ¼å¼ä¸ºPNG
- [ ] å›¾ç‰‡æ¸…æ™°å¯è¯»

### æ ‡æ³¨è´¨é‡æ£€æŸ¥:
- [ ] æ ‡æ³¨è¦†ç›–æ‰€æœ‰å¯è§å›¾è¡¨
- [ ] è¾¹ç•Œæ¡†å‡†ç¡®ï¼ˆä¸è¿‡å¤§/è¿‡å°ï¼‰
- [ ] ç±»åˆ«æ ‡æ³¨æ­£ç¡®
- [ ] æ²¡æœ‰é—æ¼çš„å¯¹è±¡

### è½¬æ¢åéªŒè¯:
- [ ] è¿è¡ŒéªŒè¯è„šæœ¬æ— é”™è¯¯
- [ ] æ£€æŸ¥YOLOæ ‡ç­¾æ–‡ä»¶
- [ ] æŸ¥çœ‹æ•°æ®ç»Ÿè®¡æŠ¥å‘Š
- [ ] ç¡®è®¤ä¼˜å…ˆç±»åˆ«æœ‰å¢åŠ 

---

## ğŸ¯ æ¨èå·¥ä½œæµç¨‹

### å®šæœŸæ•°æ®æ”¶é›†ï¼ˆæ¨èï¼šæ¯å‘¨/æ¯ä¸¤å‘¨ï¼‰

```bash
# 1. æ”¶é›†æ–°æ•°æ®ï¼ˆ50-100å¼ ä¸ºä¸€æ‰¹ï¼‰
# 2. æ ‡æ³¨æ•°æ®ï¼ˆä½¿ç”¨CVATï¼‰
# 3. ä¸‹è½½æ ‡æ³¨å¹¶ç»„ç»‡æ–‡ä»¶

# 4. æ·»åŠ åˆ°é¡¹ç›®
python scripts/add_new_batch.py --batch batch_XXX

# 5. éªŒè¯æ•°æ®
python scripts/validate_data.py --batch batch_XXX

# 6. æŸ¥çœ‹ç»Ÿè®¡ï¼ˆå†³å®šæ˜¯å¦è®­ç»ƒï¼‰
python scripts/show_data_stats.py

# 7. å¦‚æœæ–°å¢æ•°æ®>50å¼ ï¼Œé‡æ–°è®­ç»ƒ
START_PHASE1_IMPROVED_TRAINING.bat

# 8. è¯„ä¼°æ–°æ¨¡å‹
python scripts/test_ultralytics.py

# 9. å¦‚æœæ€§èƒ½æå‡ï¼Œæ›´æ–°éƒ¨ç½²æ¨¡å‹
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ é™¤rawç›®å½•çš„æ–‡ä»¶** - è¿™æ˜¯å”¯ä¸€çš„åŸå§‹æ•°æ®æº
2. **æ¯æ‰¹æ•°æ®ç‹¬ç«‹ç›®å½•** - æ–¹ä¾¿è¿½æº¯å’Œç®¡ç†
3. **ä¿æŒå‘½åè¿ç»­æ€§** - dashboard_XXXXç¼–å·ä¸è·³è·ƒ
4. **åŠæ—¶å¤‡ä»½** - å®šæœŸå¤‡ä»½rawå’Œannotationsç›®å½•
5. **è®°å½•å˜æ›´** - åœ¨`data/CHANGELOG.md`ä¸­è®°å½•æ¯æ¬¡æ•°æ®æ›´æ–°

---

## ğŸ“ˆ ç›®æ ‡æ•°æ®é‡è§„åˆ’

### çŸ­æœŸç›®æ ‡ï¼ˆ1-2ä¸ªæœˆï¼‰
- æ€»æ•°æ®é‡: 350-500å¼ 
- é‡ç‚¹ç±»åˆ«å„30+æ ·æœ¬

### ä¸­æœŸç›®æ ‡ï¼ˆ3-6ä¸ªæœˆï¼‰
- æ€»æ•°æ®é‡: 800-1000å¼ 
- æ‰€æœ‰ç±»åˆ«å‡è¡¡ï¼ˆå„50+æ ·æœ¬ï¼‰
- mAP50 ç›®æ ‡: 65-70%

### é•¿æœŸç›®æ ‡ï¼ˆ6-12ä¸ªæœˆï¼‰
- æ€»æ•°æ®é‡: 1500-2000å¼ 
- è¦†ç›–å„ç§è¾¹ç•Œæƒ…å†µ
- mAP50 ç›®æ ‡: 75-80%

---

**ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-16  
**ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ

